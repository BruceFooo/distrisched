# **分布式任务调度系统**  
> **基于 WebSocket 的毫秒级调度与分布式执行器管理**  

---

### **技术栈**  
以下为项目核心技术栈，确保高并发、低延迟与分布式调度能力：  

#### **后端技术栈**  
| 技术                | 作用与价值                                                                                   |
|---------------------|---------------------------------------------------------------------------------------------|
| **Spring Boot 3.4.x** | 核心框架，构建高并发微服务，提供 REST API、调度服务与任务分发能力。支持分布式架构设计。          |
| **MySQL 8**           | 关系型数据库，存储任务配置、用户权限、日志等核心数据，支持高并发读写与事务处理。                |
| **JDK 21**           | 基于新一代 Java 特性（如 Vector API、虚拟线程），优化 JVM 性能与多线程调度。                    |
| **JPA**              | 实现数据库 ORM 映射，简化任务、用户、日志等实体的持久化操作。                                  |
| **JWT**              | 用户身份认证与权限校验，确保 API 接口与 WebSocket 连接的安全性。                               |
| **WebSocket（WSS）**  | 安全的实时通信协议，支持 HTTPS/WSS 加密传输，实现毫秒级任务调度与执行器动态更新。               |
| **虚拟线程（Virtual Threads）** | JDK 21 特性，显著降低高并发场景下的线程管理开销，提升任务调度与 API 处理性能。              |

#### **前端技术栈**  
| 技术                | 作用与价值                                                                                   |
|---------------------|---------------------------------------------------------------------------------------------|
| **Vue 3 + TypeScript** | 基于 Vue 3 的响应式框架，结合 TypeScript 实现代码类型安全，支撑用户端复杂交互逻辑。            |
| **Vant 4**           | 针对移动端优化的轻量级 UI 组件库，快速构建美观的闹钟控制与任务管理界面。                      |
| **Vite**            | 高速开发服务器与构建工具，支持热更新（HMR）与按需编译，提升前端开发效率。                     |

#### **中间件与工具**  
| 技术                | 作用与价值                                                                                   |
|---------------------|---------------------------------------------------------------------------------------------|
| **Nginx**           | 反向代理与负载均衡，配置 HTTPS/WSS 连接，实现 API 速率限制（通过 `limit_req` 模块）与访问控制。 |
| **分布式调度架构**   | 支持毫秒级任务调度与分布式执行器管理，通过 WebSocket 实现任务热更新（无需重启）。               |
| **HTTP API**         | 作为备用协议，兼容非 WebSocket 环境，确保任务分发的多协议兼容性。                             |

---

### **核心功能**  
#### **1. 调度中心**  
- **毫秒级任务调度**：基于 WebSocket（WSS）实现分布式架构下的毫秒级任务触发与停止。  
- **双协议支持**：同时支持 WebSocket 实时推送与 HTTP API 调用，确保兼容性。  
- **热更新能力**：通过 Socket 动态分发 JAR 包，实现任务配置与代码的实时更新，无需重启执行器。  

#### **2. 执行器**  
- **JVM 执行器**：基于 Java 的本地任务执行，支持复杂逻辑与资源密集型任务。  
- **Web API 执行器**：通过 HTTP 接口触发远程任务，适用于轻量级或跨平台场景。  

#### **3. 管理端**  
- **全生命周期管理**：  
  - **任务管理**：创建、删除、更新任务配置，支持远程推送至所有执行器。  
  - **执行器管理**：动态注册/注销执行器节点，监控在线状态与负载情况。  
  - **日志与提醒**：查看任务执行日志，配置告警规则（如失败重试、超时通知）。  
  - **用户与权限**：角色分级（如管理员/普通用户）、JWT 认证与细粒度权限校验。  

#### **4. 用户端**  
- **实时交互**：  
  - **首页信息**：展示任务执行状态、告警统计与执行器健康度。  
  - **闹钟控制**：通过 Web API 触发音频播放（如浏览器原生 `Audio` API）并弹窗提醒。  
  - **任务管理**：可视化配置任务触发时间、执行参数与依赖关系。  

#### **5. 安全与性能**  
- **通信安全**：  
  - **HTTPS/WSS**：所有接口与 WebSocket 连接强制加密传输。  
  - **JWT 认证**：基于签名的用户身份验证，防止中间人攻击。  
- **速率限制**：通过 Nginx `limit_req` 模块限制 API 请求频率，防御恶意刷请求。  
- **高并发优化**：  
  - **虚拟线程**：JDK 21 的虚拟线程显著降低高并发场景下的线程切换开销。  
  - **数据库连接池**：通过 HikariCP 管理 MySQL 连接，优化事务处理性能。  

---

### **部署与运维**  
1. **环境要求**  
   - **后端**：JDK 21、MySQL 8、Nginx（配置 HTTPS/WSS 和限流规则）。  
   - **前端**：Node.js 18+、Vue 3、Vite。  
   - **执行器**：支持 Windows/Linux，可通过 systemd 或 cron 维护长期运行。  

2. **部署步骤**  
     暂无
   
---

### **当前进展**  
- **开发进度**：核心功能已实现，进入测试阶段。  
